<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main>
      <header>
        <img src="" alt="" />
        <p class="logo-text">Sistema de carga</p>
      </header>
      <section>
        <p>PROGRAMAÇÃO DE CARGA</p>
        <form action="">
          <label for="">MOTORISTA</label>
          <input type="text" name="motorista" id="" />
          <label for="">PLACA</label>
          <input type="text" name="placa" id="" />
          <label for="">CARGA</label>
          <input type="text" name="carga" id="" />
          <label for="">DATA</label>
          <input type="date" name="data" id="" />
          <label for="">HORA</label>
          <input type="time" name="hora" id="" />
          <label for="">PESO ENTRADA</label>
          <input type="number" name="pesoEntrada" id="" />
          <label for="">PESO SAIDA</label>
          <input type="number" name="pesoSaida" id="" />
          <label for="">DESTINO</label>
          <input type="text" name="destino" id="" />
          <label for="">KM DE DISTÂNCIA</label>
          <input type="number" name="kmDistancia" id="" />
          <button onclick="salvar()">SALVAR</button>
        </form>
      </section>
      <footer></footer>
      <script>
        function salvar() {
          const motorista = document.querySelector("input[name='motorista']").value;
          const placa = document.querySelector("input[name='placa']").value;
          const carga = document.querySelector("input[name='carga']").value;
          const data = document.querySelector("input[name='data']").value;
          const hora = document.querySelector("input[name='hora']").value;
          const pesoEntrada = document.querySelector("input[name='pesoEntrada']").value;
          const pesoSaida = document.querySelector("input[name='pesoSaida']").value;
          const destino = document.querySelector("input[name='destino']").value;
          const kmDistancia = document.querySelector("input[name='kmDistancia']").value;
        }

        function salvar() {
            if (
              motorista === "" ||
              placa === "" ||
              carga === "" ||
              data === "" ||
              hora === "" ||
              pesoEntrada === "" ||
              pesoSaida === "" ||
              destino === "" ||
              kmDistancia === ""
            ) {
              alert("Preencha todos os campos");
              return;
            } else {
              alert("Dados salvos com sucesso!");
            }
        }        

        const data = {
          motorista,
          placa,
          carga,
          data,
          hora,
          pesoEntrada,
          pesoSaida,
          destino,
          kmDistancia,
        };

        console.log(data);

       const dataJson = JSON.stringify(data);
       console.log(dataJson);

       fetch("http://localhost:3000/carga", {
         method: "POST",
         headers: {
           "Content-Type": "application/json",
         },
         body: dataJson,
       })
         .then((response) => response.json())
         .then((data) => console.log(data));


       
      </script>
    </main>
  </body>
</html>
